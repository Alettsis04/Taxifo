{"ast":null,"code":"import _defineProperty from\"C:/Users/USUARIO/Documents/Proyectos/Taxifo/app/app-front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/USUARIO/Documents/Proyectos/Taxifo/app/app-front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/USUARIO/Documents/Proyectos/Taxifo/app/app-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import validator from\"validator\";import Swal from\"sweetalert2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var initialForm={correo:\"\",clave:\"\"};var Login=function Login(){var _useState=useState(initialForm),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var handleChange=function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var reportarIncidente=function reportarIncidente(){fetch(\"http://127.0.0.1:8000/api/auditoria/\",{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",mode:\"no-cors\",body:{accion:\"\",usuario:\"\"}}).then(function(response){console.log(response);}).catch(function(error){return console.log(\"Algo pasó: \"+error);});};var iniciarSesion=function iniciarSesion(){if(form.correo!==\"\"&&form.clave!==\"\"){if(validator.isEmail(form.correo)){alerta(\"Iniciar\",\"success\");fetch(\"http://127.0.0.1:8000/api/login/\",{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",mode:\"no-cors\",body:form}).then(function(response){console.log(response);}).catch(function(error){return console.log(\"Algo pasó: \"+error);});}else{alerta(\"Correo inválido\",\"error\");}}else{alerta(\"Campos vacíos\",\"error\");}};var alerta=function alerta(msg,type){var Toast=Swal.mixin({toast:true,position:\"top-end\",showConfirmButton:false,timer:3000,timerProgressBar:true,didOpen:function didOpen(toast){toast.addEventListener(\"mouseenter\",Swal.stopTimer);toast.addEventListener(\"mouseleave\",Swal.resumeTimer);}});Toast.fire({icon:type,title:msg});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"modal-default\",style:{display:\"none\"},\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modal-title\",children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"correo\",className:\"form-control\",placeholder:\"Email\",onChange:handleChange,value:form.correo}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-envelope\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"clave\",className:\"form-control\",placeholder:\"Contrase\\xF1a\",onChange:handleChange,value:form.clave}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-lock\"})})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-default\",\"data-dismiss\":\"modal\",children:\"Cerrar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:iniciarSesion,children:\"Inicar Sesi\\xF3n\"})]})]})})})});};export default Login;","map":{"version":3,"names":["React","useState","validator","Swal","initialForm","correo","clave","Login","form","setForm","handleChange","e","target","name","value","reportarIncidente","fetch","headers","method","mode","body","accion","usuario","then","response","console","log","catch","error","iniciarSesion","isEmail","alerta","msg","type","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","display"],"sources":["C:/Users/USUARIO/Documents/Proyectos/Taxifo/app/app-front/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport validator from \"validator\";\r\n\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst initialForm = {\r\n  correo: \"\",\r\n  clave: \"\",\r\n};\r\n\r\nconst Login = () => {\r\n  const [form, setForm] = useState(initialForm);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const reportarIncidente = () => {\r\n    fetch(\"http://127.0.0.1:8000/api/auditoria/\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: \"POST\",\r\n      mode: \"no-cors\",\r\n      body: {\r\n        accion: \"\",\r\n        usuario: \"\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n      })\r\n      .catch((error) => console.log(\"Algo pasó: \" + error));\r\n  };\r\n\r\n  const iniciarSesion = () => {\r\n    if (form.correo !== \"\" && form.clave !== \"\") {\r\n      if (validator.isEmail(form.correo)) {\r\n        alerta(\"Iniciar\", \"success\");\r\n        fetch(\"http://127.0.0.1:8000/api/login/\", {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          method: \"POST\",\r\n          mode: \"no-cors\",\r\n          body: form,\r\n        })\r\n          .then((response) => {\r\n            console.log(response);\r\n          })\r\n          .catch((error) => console.log(\"Algo pasó: \" + error));\r\n      } else {\r\n        alerta(\"Correo inválido\", \"error\");\r\n      }\r\n    } else {\r\n      alerta(\"Campos vacíos\", \"error\");\r\n    }\r\n  };\r\n\r\n  const alerta = (msg, type) => {\r\n    const Toast = Swal.mixin({\r\n      toast: true,\r\n      position: \"top-end\",\r\n      showConfirmButton: false,\r\n      timer: 3000,\r\n      timerProgressBar: true,\r\n      didOpen: (toast) => {\r\n        toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n        toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n      },\r\n    });\r\n\r\n    Toast.fire({\r\n      icon: type,\r\n      title: msg,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"modal fade\"\r\n        id=\"modal-default\"\r\n        style={{ display: \"none\" }}\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Iniciar Sesión</h4>\r\n              <button\r\n                type=\"button\"\r\n                className=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <span aria-hidden=\"true\">×</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form>\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"correo\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Email\"\r\n                    onChange={handleChange}\r\n                    value={form.correo}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <div className=\"input-group-text\">\r\n                      <span className=\"fas fa-envelope\"></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"clave\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Contraseña\"\r\n                    onChange={handleChange}\r\n                    value={form.clave}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <div className=\"input-group-text\">\r\n                      <span className=\"fas fa-lock\"></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"modal-footer justify-content-between\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-default\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Cerrar\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={iniciarSesion}\r\n              >\r\n                Inicar Sesión\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}